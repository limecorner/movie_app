(function(e){function t(t){for(var i,o,n=t[0],c=t[1],l=t[2],m=0,u=[];m<n.length;m++)o=n[m],Object.prototype.hasOwnProperty.call(s,o)&&s[o]&&u.push(s[o][0]),s[o]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(e[i]=c[i]);d&&d(t);while(u.length)u.shift()();return r.push.apply(r,l||[]),a()}function a(){for(var e,t=0;t<r.length;t++){for(var a=r[t],i=!0,n=1;n<a.length;n++){var c=a[n];0!==s[c]&&(i=!1)}i&&(r.splice(t--,1),e=o(o.s=a[0]))}return e}var i={},s={app:0},r=[];function o(t){if(i[t])return i[t].exports;var a=i[t]={i:t,l:!1,exports:{}};return e[t].call(a.exports,a,a.exports,o),a.l=!0,a.exports}o.m=e,o.c=i,o.d=function(e,t,a){o.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:a})},o.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},o.t=function(e,t){if(1&t&&(e=o(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var a=Object.create(null);if(o.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)o.d(a,i,function(t){return e[t]}.bind(null,i));return a},o.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return o.d(t,"a",t),t},o.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},o.p="/movie_app/";var n=window["webpackJsonp"]=window["webpackJsonp"]||[],c=n.push.bind(n);n.push=t,n=n.slice();for(var l=0;l<n.length;l++)t(n[l]);var d=c;r.push([0,"chunk-vendors"]),a()})({0:function(e,t,a){e.exports=a("56d7")},"13ae":function(e,t,a){"use strict";a("63fb")},"4daf":function(e,t,a){"use strict";a("eafa")},"56d7":function(e,t,a){"use strict";a.r(t);var i=a("2b0e"),s=function(){var e=this,t=e._self._c;return t("div",{attrs:{id:"app"}},[t("router-view")],1)},r=[],o=(a("4989"),a("ab8b"),{name:"App"}),n=o,c=(a("f5e0"),a("2877")),l=Object(c["a"])(n,s,r,!1,null,null,null),d=l.exports,m=a("8c4f"),u=function(){var e=this,t=e._self._c;return t("h1",[e._v("404 Page Not Found")])},f=[],v={},p=Object(c["a"])(v,u,f,!1,null,null,null),h=p.exports,g=function(){var e=this,t=e._self._c;return t("div",[t("div",{staticClass:"container mt-3"},[t("div",{staticClass:"row"},[e._m(0),t("select",{staticClass:"col-2 mr-1",attrs:{id:"year-area"},on:{change:function(t){return e.changeQuery(t)}}},[t("option",{attrs:{value:"",selected:""}},[e._v("年份")]),e._l(e.years,(function(a){return t("option",{key:a,domProps:{value:a}},[e._v(" "+e._s(a)+" ")])}))],2),t("select",{staticClass:"col-2 mr-1",attrs:{id:"genre-area"},on:{change:function(t){return e.changeQuery(t)}}},[t("option",{attrs:{value:"",selected:""}},[e._v("類型")]),e._l(e.genres,(function(a){return t("option",{key:a.id,domProps:{value:a.id}},[e._v(" "+e._s(a.chineseName)+" ")])}))],2),t("div",{staticClass:"col-6 col-md-4 col-lg-4"},[t("form",{staticClass:"d-flex",attrs:{id:"search-form"}},[t("input",{directives:[{name:"model",rawName:"v-model",value:e.keyword,expression:"keyword"}],staticClass:"form-control me-2",attrs:{id:"search-input",type:"search",placeholder:"Search","aria-label":"Search"},domProps:{value:e.keyword},on:{input:function(t){t.target.composing||(e.keyword=t.target.value)}}}),t("button",{staticClass:"btn btn-outline-success",attrs:{type:"submit"},on:{click:function(t){return t.preventDefault(),e.filterMoviesByMovieName(e.keyword,1)}}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-magnifying-glass"}})],1)])]),t("div",{staticClass:"d-flex col-4 col-md-1 col-lg-1",attrs:{id:"control-form"}},[t("font-awesome-icon",{staticClass:"mr-3",attrs:{icon:"fa-solid fa-grip",size:"2x"},on:{click:function(t){return e.changeFormat("card-format")}}}),t("font-awesome-icon",{attrs:{icon:"fa-solid fa-list",size:"2x"},on:{click:function(t){return e.changeFormat("list-format")}}})],1)])]),"card-format"===e.currentFormat?t("div",{staticClass:"container mt-5"},[t("div",{staticClass:"row",attrs:{id:"data-panel"}},e._l(e.movies,(function(a){return t("MovieCard",{key:a.id,attrs:{item:a},on:{"after-click-more":e.afterClickMore}})})),1)]):t("div",{staticClass:"container mt-5"},[t("div",{staticClass:"list-table row align-items-center"},[t("tr",{staticClass:"col-5"},[e._v(" Name ")]),t("tr",{staticClass:"col-3"},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-star"}})],1),t("tr",{staticClass:"col-2"},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-thumbs-up"}})],1),t("tr",{staticClass:"col-2"},[e._v(" More ")])]),e._l(e.movies,(function(a){return t("MovieList",{key:a.id,attrs:{item:a},on:{"after-click-more":e.afterClickMore}})}))],2),t("paginate",{attrs:{"page-count":e.totalPages,"page-range":3,"margin-pages":2,"click-handler":e.clickCallback,"prev-text":"Prev","next-text":"Next","container-class":"pagination","page-class":"page-item","page-link-class":"page-link","prev-class":"page-link","next-class":"page-link","force-page":e.currentPage}}),t("MovieModal",{attrs:{item:e.item}})],1)},y=[function(){var e=this,t=e._self._c;return t("div",{staticClass:"col-4 col-md-2 col-lg-2 d-flex align-items-center justify-content-center"},[t("h5",{staticClass:"web-title"},[e._v("速查電影")])])}],_=a("bc3a"),b=a.n(_),C=function(){var e=this,t=e._self._c;return t("div",{staticClass:"card-container col-6 col-md-4 col-lg-3 col-xl-2"},[t("div",{staticClass:"card mb-2"},[t("img",{staticClass:"card-img-top",attrs:{src:e.getPoster,alt:"Card image cap"}}),t("div",{staticClass:"card-body movie-item-body"},[t("h5",[e._v(e._s(e.getTitle))])]),t("div",{staticClass:"card-footer d-flex justify-content-between"},[t("div",[t("div",{staticClass:"text-left"},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-star"}}),e._v(" "+e._s(e.getPopularity)+" ")],1),t("div",{staticClass:"text-left"},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-thumbs-up"}}),e._v(" "+e._s(e.getVote)+" ")],1)]),t("button",{staticClass:"btn btn-show-movie btn-show-movie-card-format",attrs:{"data-toggle":"modal","data-target":"#show-movie-modal"},on:{click:function(t){return e.clickMore(e.item)}}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-angle-down"}})],1)])])])},w=[];const k="https://api.themoviedb.org/3/",x={methods:{clickMore(e){b.a.get(`${k}movie/${e.id}?api_key=70c1033d4e5a041d7597a7d9758e86a6`).then(e=>{const{data:t}=e;this.$emit("after-click-more",t)}).catch(e=>console.log(e))}}},M={computed:{getPoster(){return this.item.poster_path?"https://image.tmdb.org/t/p/w500/"+this.item.poster_path:"http://fakeimg.pl/440x650/?text=NoImg"},getTitle(){return this.item.title?this.item.title:"無資料"},getPopularity(){return this.item.popularity?this.item.popularity:"無資料"},getVote(){return this.item.vote_average?this.item.vote_average:"無資料"},getReleaseDate(){return this.item.release_date?this.item.release_date:"無資料"},getBudget(){return this.item.budget?this.item.budget:"無資料"},getRevenue(){return this.item.revenue?this.item.revenue:"無資料"},getOverview(){return this.item.overview?this.item.overview:"無資料"},getTagline(){return this.item.tagline?this.item.tagline:"無資料"}}};var N={mixins:[x,M],props:{item:{type:Object,required:!0}}},P=N,O=(a("4daf"),Object(c["a"])(P,C,w,!1,null,"0399ffd5",null)),j=O.exports,T=function(){var e=this,t=e._self._c;return t("div",{staticClass:"list-table row align-items-center"},[t("tr",{staticClass:"col-5 pl-2"},[e._v(" "+e._s(e.getTitle)+" ")]),t("tr",{staticClass:"col-3"},[e._v(" "+e._s(e.getPopularity)+" ")]),t("tr",{staticClass:"col-2"},[e._v(" "+e._s(e.getVote)+" ")]),t("tr",{staticClass:"col-2"},[t("button",{staticClass:"btn btn-show-movie btn-show-movie-list-format mx-2",attrs:{type:"button","data-toggle":"modal","data-target":"#show-movie-modal"},on:{click:function(t){return e.clickMore(e.item)}}},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-angle-down"}})],1)])])},F=[],$={mixins:[x,M],props:{item:{type:Object,required:!0}}},A=$,I=(a("13ae"),Object(c["a"])(A,T,F,!1,null,"4ad50c9a",null)),S=I.exports,Y=function(){var e=this,t=e._self._c;return t("div",{staticClass:"modal fade",attrs:{id:"show-movie-modal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLongTitle","aria-hidden":"true"}},[t("div",{staticClass:"modal-dialog modal-lg",attrs:{role:"document"}},[t("div",{staticClass:"modal-content"},[t("div",{staticClass:"modal-body",attrs:{id:"show-movie-body"}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-6"},[t("img",{attrs:{src:e.getPoster,id:"show-movie-image"}})]),t("div",{staticClass:"col-6"},[t("h5",{staticClass:"modal-title",attrs:{id:"show-movie-title"}},[e._v(" "+e._s(e.getTitle)+" ")]),t("p",{staticClass:"m-0"},[e._v("發行日 : "+e._s(e.getReleaseDate))]),t("div",[t("span",[e._v("類型 : ")]),e._l(e.item.genres,(function(a){return t("span",{key:a.id,staticClass:"mr-2"},[e._v(e._s(a.name?a.name:"無資料")+" ")])}))],2),t("div",{staticClass:"row mt-3"},[t("div",{staticClass:"col-4"},[t("div",{staticClass:"text-center"},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-star"}}),e._v(" "+e._s(e.getPopularity)+" ")],1),t("div",{staticClass:"text-center"},[t("font-awesome-icon",{attrs:{icon:"fa-solid fa-thumbs-up"}}),e._v(" "+e._s(e.getVote)+" ")],1)]),t("div",{staticClass:"col-8"},[t("div",[t("p",{staticClass:"text-center m-0"},[e._v(" 預算 "+e._s(e.getBudget)+" ")])]),t("div",[t("p",{staticClass:"text-center m-0"},[e._v(" 票房 "+e._s(e.getRevenue)+" ")])])])]),t("div",{staticClass:"mt-3",attrs:{id:"show-movie-description "}},[t("p",{staticClass:"overview-title text-center m-0"},[e._v("概要")]),t("p",{staticClass:"text-center"},[e._v(e._s(e.getOverview))])]),t("div",{attrs:{id:"show-movie-description"}},[t("p",{staticClass:"overview-title text-center m-0"},[e._v("標語")]),t("p",{staticClass:"text-center"},[e._v(" "+e._s(e.getTagline)+" ")])])])])])])])])},B=[],D={mixins:[M],props:{item:{type:Object,required:!0}}},R=D,V=(a("5ec0"),Object(c["a"])(R,Y,B,!1,null,"73f9d314",null)),q=V.exports;const z=[{id:28,name:"Action",chineseName:"動作"},{id:12,name:"Adventure",chineseName:"冒險"},{id:16,name:"Animation",chineseName:"動畫"},{id:35,name:"Comedy",chineseName:"喜劇"},{id:80,name:"Crime",chineseName:"犯罪"},{id:99,name:"Documentary",chineseName:"紀錄片"},{id:18,name:"Drama",chineseName:"戲劇"},{id:10751,name:"Family",chineseName:"家庭"},{id:14,name:"Fantasy",chineseName:"奇幻"},{id:36,name:"History",chineseName:"歷史"},{id:27,name:"Horror",chineseName:"恐怖"},{id:10402,name:"Music",chineseName:"音樂"},{id:9648,name:"Mystery",chineseName:"靈異"},{id:10749,name:"Romance",chineseName:"愛情"},{id:878,name:"Science Fiction",chineseName:"科幻"},{id:10770,name:"TV Movie",chineseName:"電視電影"},{id:53,name:"Thriller",chineseName:"驚悚"},{id:10752,name:"War",chineseName:"戰爭"},{id:37,name:"Western",chineseName:"西方"}],G="https://api.themoviedb.org/3/";var L={components:{MovieCard:j,MovieList:S,MovieModal:q},data(){return{years:[],genres:[],year:"",genreId:"",movies:[],currentPage:1,item:{},totalPages:3,currentFormat:"card-format",keyword:"",filterType:"byYearAndGenre"}},created(){this.initilaizeYears(2010),this.genres=z,this.filterMovies(1,this.year,this.genreId)},methods:{clickCallback(e){console.log(e),this.currentPage=e,"byYearAndGenre"===this.filterType?this.filterMovies(e,this.year,this.genreId):this.filterMoviesByMovieName(this.keyword,e)},initilaizeYears(e){for(let t=2022;t>=e;t--)this.years.push(t)},changeQuery(e){"year-area"===e.target.id?this.year=e.target.value:this.genreId=e.target.value,this.filterType="byYearAndGenre",this.currentPage=1,this.filterMovies(this.currentPage,this.year,this.genreId)},filterMovies(e,t,a){console.log({page:e,year:t,genre:a}),b.a.get(G+"discover/movie",{params:{api_key:"70c1033d4e5a041d7597a7d9758e86a6",sort_by:"popularity.desc",include_video:!1,page:e,primary_release_year:t,with_genres:a}}).then(t=>{const{data:a}=t;this.movies=a.results,this.totalPages=a.total_pages,this.$router.push(`/movies?year=${this.year}&genreId=${this.genreId}&page=${e}`)}).catch(e=>console.log(e))},filterMoviesByMovieName(e,t){"byYearAndGenre"===this.filterType&&(this.currentPage=1),this.filterType="byMovieName",b.a.get(G+"search/movie",{params:{api_key:"70c1033d4e5a041d7597a7d9758e86a6",query:e,page:t}}).then(e=>{const{data:a}=e;this.movies=a.results,this.totalPages=a.total_pages,this.$router.push(`movies?keyword=${this.keyword}&page=${t}`)}).catch(e=>console.log(e))},afterClickMore(e){this.item=e},changeFormat(e){this.currentFormat=e,console.log(this.currentFormat)}}},Q=L,H=(a("d046"),Object(c["a"])(Q,g,y,!1,null,"1d2ce1d9",null)),J=H.exports;i["default"].use(m["a"]);const W=[{path:"/",name:"movies",component:J},{path:"/movies",name:"movies",component:J},{path:"*",name:"not-found",component:h}],E=new m["a"]({routes:W});var K=E,U=a("5f5b"),X=a("b1e0"),Z=(a("f9e3"),a("2dd8"),a("ecee")),ee=a("ad3d"),te=a("c074"),ae=a("8832"),ie=a.n(ae);const se=m["a"].prototype.push;m["a"].prototype.push=function(e){return se.call(this,e).catch(e=>e)},i["default"].component("paginate",ie.a),i["default"].config.productionTip=!1,i["default"].use(U["a"]),i["default"].use(X["a"]),Z["c"].add(te["a"]),i["default"].component("font-awesome-icon",ee["a"]),new i["default"]({router:K,render:e=>e(d)}).$mount("#app")},"5ec0":function(e,t,a){"use strict";a("f2a0")},"63fb":function(e,t,a){},a4c0:function(e,t,a){},c790:function(e,t,a){},d046:function(e,t,a){"use strict";a("a4c0")},eafa:function(e,t,a){},f2a0:function(e,t,a){},f5e0:function(e,t,a){"use strict";a("c790")}});
//# sourceMappingURL=app.95dd23e8.js.map